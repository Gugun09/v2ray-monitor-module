name: ðŸ”„ Auto Update Check

on:
  schedule:
    # Check for updates daily at 00:00 UTC
    - cron: '0 0 * * *'
  workflow_dispatch:

jobs:
  check-dependencies:
    name: ðŸ” Check Dependencies
    runs-on: ubuntu-latest
    
    steps:
      - name: ðŸ“¥ Checkout Repository
        uses: actions/checkout@v5

      - name: ðŸ” Check for Updates
        run: |
          echo "ðŸ” Checking for dependency updates..."
          
          # Check Tailwind CSS version
          CURRENT_TAILWIND=$(grep -o 'tailwindcss@[0-9.]*' ui/www/index.html || echo "not found")
          echo "ðŸ“‹ Current Tailwind: $CURRENT_TAILWIND"
          
          # Check Font Awesome version
          CURRENT_FA=$(grep -o 'font-awesome/[0-9.]*' ui/www/index.html || echo "not found")
          echo "ðŸ“‹ Current Font Awesome: $CURRENT_FA"
          
          # Check for security advisories (if any dependencies)
          echo "ðŸ”’ Checking security advisories..."
          
          # Create update report
          echo "## ðŸ”„ Dependency Update Report" >> update_report.md
          echo "" >> update_report.md
          echo "- ðŸŽ¨ **Tailwind CSS**: $CURRENT_TAILWIND" >> update_report.md
          echo "- ðŸŽ¯ **Font Awesome**: $CURRENT_FA" >> update_report.md
          echo "- ðŸ“… **Check Date**: $(date -u +"%Y-%m-%d %H:%M:%S UTC")" >> update_report.md
          
          cat update_report.md

      - name: ðŸ“Š Update Summary
        run: |
          echo "## ðŸ”„ Auto Update Check" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "âœ… Dependency check completed" >> $GITHUB_STEP_SUMMARY
          echo "ðŸ“… Last checked: $(date -u +"%Y-%m-%d %H:%M:%S UTC")" >> $GITHUB_STEP_SUMMARY